<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Athlete excersize, wellness and nutrition/blood glucose data download tool</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='open-iconic/font/css/open-iconic-bootstrap.css') }}" rel="stylesheet">
        <link rel="shortcut icon" href="{{ url_for('static', filename='pulse.ico') }}">
        <style type="text/css" media="screen">
            #MsgBox {
                background:#F3F9FB;
            } 
            #userModal {
                top:1%;
                left:70%;
                outline: none;
                }
            .calendar {
                background: url(static/open-iconic/png/grid-four-up-3x.png) no-repeat scroll 4px 7px;
                padding-left: 40px;  
            }

            .calendar:hover {
                cursor: pointer 
            }
            .heart {
	            font-size: 12px;
	            color: white;
	            animation: beat 1.5s infinite alternate;
	            transform-origin: center;
            }

            /* Heart beat animation */
            @keyframes beat{
	           to { transform: scale(1.1); }
            }

        </style>

        <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
        <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/Athlete_Data_WebUI.js') }}"></script>
        <!-- Bootstrap Date-Picker Plugin -->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
    </head>

    <div class="alert alert-info alert-dismissible" role="alert" id ="alertBrClose" hidden>               
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>    

    </div>
    
    <div>
        {% with messages = get_flashed_messages(with_categories=true) %}
            <!---Categories: success (green), info (blue), warning (yellow), danger (red)-->
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible" role="alert" id ="alertRestart">
                        <!-- <a href="javascript:loadFromSessionStorage_NoDelete()" class="btn btn-xs btn-{{ category }} pull-right" >Start Over</a> -->
                        {% if continue_btn == 'delete' %}
                            <a href="javascript:loadFromSessionStorage()" class="btn btn-xs btn-{{ category }} pull-right" >Continue</a>            
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <!-- <strong>Title</strong> --> {{ message }}
                        {% elif continue_btn == 'no_delete' %} 
                            <a href="javascript:loadFromSessionStorage_NoDelete()" class="btn btn-xs btn-{{ category }} pull-right" >Continue</a>              
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <!-- <strong>Title</strong> --> {{ message }}
                        {% else %}
                            <!--<a href="javascript:loadFromSessionStorage()" class="btn btn-xs btn-{{ category }} pull-right" >Continue</a> -->            
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <!-- <strong>Title</strong> --> {{ message }}
                        {%endif%}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>
    
    <!--Navigation Bar-->

    <nav class="navbar navbar-dark" style="background-color:#0275d8">
        <a class="navbar-brand" href="#">
        <!-- Toggler/collapsibe Button -->
        <button class="navbar-toggler" type="button" style="margin-right:5px" data-toggle="collapse" data-target="#collapsibleNavbar"><span class="navbar-toggler-icon"></span>
        </button><b>Athlete Data Warehouse</b> - Performance/Health Data Download Utility.</a>
        {% if signin_valid %}
            <a data-target="#userModal" data-toggle="modal" id="userAccountLink" href="#userModal" title="logged-in" style="color:#f7f7f7" onchange="EnableDisableElmnt(this)"><span class="oi oi-lock-unlocked h3"></span></a>
        {% else %}
            <a data-target="#userModal" data-toggle="modal" id="userAccountLink" href="#userModal" title="not logged-in" style="color:#f7f7f7" onchange="EnableDisableElmnt(this)"><span class="oi oi-lock-locked h3"></span></a>
        {% endif %}
        
        <!-- Navbar links -->
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            {% if signin_valid %}
                <small class="form-text" style="margin-left: 15px; margin-top:5px;color:#f7f7f7"><b>Logged in as: {{signin_valid}}</b></small>
            {% else %}
                <small class="form-text" style="margin-left: 15px; margin-top:5px;color:#f7f7f7"><b>Not logged-in</b></small>
            {% endif %}
            <small class="form-text" style="margin-left: 15px; margin-top:5px;color:#f7f7f7 " >This tool automates health and performance data download from Garmin Connect, Strava, Oura, MyFitnessPal, Diasend, Glimp app, LibreView, Muse/Mind Monitor app, Meteostat weather service. 
                It can be used to download the following types of data from the aforementioned sources: TRAINING, EXCERSIZE, NUTRITION, MEDICATION/SUPPLEMENTS, HR, HRV, SLEEP, STRESS, RECOVERY, MOOD, BODY COMPOSITION, BLOOD GLUCOSE, EEG/MEDITATION, WEATHER and other.
                Once downloaded it then parses and cleans up the data and inserts it into a PostgreSQL database for analysis. 
                <p>
                Upon the completion of the data download and DB insert the user has full access to his/hers postgreSQL database using any of the available methods. 
                This is an experimental project of mine and all functionality is provided free of charge. The user has an ability to delete the database and all data at any time. More info in the FAQ section.
                </p>            
            </small>
            <span><a class="btn btn-outline-light" id="datamodel_preview" href="/datamodel_preview" target="_blank" style="margin-left: 15px"><span class="oi oi-fork" aria-hidden="true"></span> View DB model</a></span> 
            <span><a class="btn btn-outline-light" id="db_info" href="/db_info?dbhost=" style="margin-left: 15px" onclick="addAtribs()"><span class="oi oi-script" aria-hidden="true"></span> View DB info</a></span>    
            <!-- This section requires PGweb.-->
            {% if pgweb_enabled %}
                <span class="dropdown">
            {% else %}
                <span class="dropdown" hidden>
            {% endif %}
                <a class="btn btn-outline-light dropdown-toggle" id="browse_data" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="margin-left: 15px"><span class="oi oi-layers" aria-hidden="true"></span> Browse DB</a>
                <div class="dropdown-menu" aria-labelledby="browse_data">
                    <a class="dropdown-item" href={{pgweb_smpl_url}} target="_blank">Sample DB</a>
                    {% if signin_valid %}
                        <a class="dropdown-item" href={{pgweb_usr_url}} target="_blank">Your DB</a>
                    {% else %}
                        <a class="dropdown-item" href="#" title="Requires Login !">Your DB</a>
                    {% endif %}
                </div>
            </span>
            <!-- This section requires Apache Superset.-->
            {% if superset_enabled %}
                <span class="dropdown">
            {% else %}
                <span class="dropdown" hidden>
            {% endif %}
                <a class="btn btn-outline-light dropdown-toggle" id="analyse_data" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="margin-left: 15px"><span class="oi oi-graph" aria-hidden="true"></span> Analyse Data</a>
                <div class="dropdown-menu" aria-labelledby="analyse_data">
                    <a class="dropdown-item" href="/ath_superset?user=smpl" target="_blank">Sample Data</a>
                    {% if signin_valid %}
                        <a class="dropdown-item" href="/ath_superset?user=user" target="_blank">Your Data</a>
                    {% else %}
                        <a class="dropdown-item" href="#" title="Requires Login !">Your Data</a>
                    {% endif %}
                </div>
            </span>
        </div>
    </nav>

    <!-- User Login Modal-->

    <div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <nav class="navbar navbar-dark" style="background-color:#0275d8">
                    <a class="navbar-brand" href="#">
                    <!-- Toggler/collapsibe Button -->
                    <button class="navbar-toggler" type="button" style="margin-right:5px" data-toggle="collapse" data-target="#collapsibleModalNavbar"><span class="navbar-toggler-icon"></span>
                    </button><b>Athlete</b> - Login/Register.</a>
                    <button type="button" class="close" style="color:#f7f7f7" data-dismiss="modal" aria-hidden="true">×</button>
                    <!-- Navbar links -->
                    <div class="collapse navbar-collapse" id="collapsibleModalNavbar">
                        {% if signin_valid %}
                            <small class="form-text" style="margin-left: 15px; margin-top:5px;color:#f7f7f7"><b>Logged in as: {{signin_valid}}</b></small>
                            <input type="hidden" name="athUN" id="athUN" value={{signin_valid}}>
                        {% else %}
                            <small class="form-text" style="margin-left: 15px; margin-top:5px;color:#f7f7f7"><b>Not logged-in</b></small>
                        {% endif %}
                        <small class="form-text" style="margin-left: 15px; margin-top:5px;color:#f7f7f7 " >You will need to sign in to use this web app. 
                            You will not receive any marketing info and your information will not be shared with anybody. This is just to simplify the usage of the app, and better protect your data. 
                            Initialy this was not required, but with the increasing complexity of the app and groving number of data sources it has become a necessity.                            
                            More info in the FAQ section.           
                        </small>
                    </div>
                </nav>
                <div class="modal-body">
                    <div></div>
                    <div class="bs-example">
                        <ul class="nav nav-tabs">
                            <li class="nav-item">
                                <a href="#login_tab" class="nav-link active" data-toggle="tab"><h6><span class="oi oi-lock-unlocked"></span><b> Login</b></h6></a>
                            </li>
                            <li class="nav-item">
                                <a href="#register_tab" class="nav-link" data-toggle="tab"><h6><span class="oi oi-pencil"></span><b> Register</b></h6></a>
                            </li>
                        </ul>
                        <!-- Login tab-->
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="login_tab" style="margin-top:15px">
                                <!--Login From-->
                                <form method="post" action='/ath_login' name="login_form" style="margin-left:20px;margin-right:20px;">
                                    <div class="form-group">
                                        <label for="athUsernameLogin"><b>Email:</b></label>
                                        <input type="email" class="form-control" id="athUsernameLogin" name="athUsernameLogin" aria-describedby="emailHelp" placeholder="Enter Email">
                                    </div>
                                    <div class="form-group" style="margin-bottom: 25px;">
                                        <label for="athPasswordLogin"><b>Password:</b></label>
                                        <input type="password" class="form-control"  id="athPasswordLogin" name="athPasswordLogin" placeholder="Enter Password" >
                                    </div>
                                    <p><button type="submit" class="btn btn-primary">Sign in</button>
                                    <a href="#" onclick="ShowHideDiv('reset_pwd_form')">Forgot Password?</a>
                                    <a href="/ath_logout" >| Sign out</a>
                                    </p>
                                </form>
                                <hr>
                                <!--Reset password form-->
                                <form method="post" action='/ath_reset_password' id="reset_pwd_form" name="reset_pwd_form" style="margin-left:20px;margin-right:20px; display: none;">
                                    <div class="form-group">
                                        <label for="athUsernameReset"><b>Please enter the email that you registered with:</b></label>
                                        <input type="email" class="form-control" id="athUserReset" name="athUserReset" aria-describedby="emailHelp" placeholder="Enter Email">
                                    </div>
                                    <p><button type="submit" class="btn btn-primary">Request pwd reset</button>
                                    </p>
                                </form>
                            </div>
                            <!-- Register tab-->
                            <div class="tab-pane fade" id="register_tab"style="margin-top:15px">
                                <!--Register form-->
                                <form method="post" action='/ath_register' name="register_form" style="margin-left:20px;margin-right:20px;">
                                    <div class="form-group">
                                        <label for="athUsernameReg"><b>Your Email:</b></label>
                                        <input type="email" class="form-control" id="athUsernameReg" name="athUsernameReg" aria-describedby="emailHelp" placeholder="Enter Email" onkeyup="ValidateEmail()">
                                        <span id='check_email_msg'></span>
                                    </div>
                                    <div class="form-group">
                                        <label for="athPasswordReg"><b>Your Password:</b></label>
                                        <input type="password" class="form-control"  id="athPasswordReg" name="athPasswordReg" placeholder="Enter Password" onkeyup="ValidatePassword()">
                                    </div>
                                    <div class="form-group" style="margin-bottom: 25px;">
                                        <label for="athPasswordRegRep"><b>Repeat Password:</b></label>
                                        <input type="password" class="form-control"  id="athPasswordRegRep" name="athPasswordRegRep" placeholder="Enter Password" onkeyup="ValidatePassword()">
                                        <span id='compare_passwords_msg'></span>
                                    </div>
                                    <p><button type="submit" id="signupButton" class="btn btn-primary" disabled>Sign Up</button>
                                    </p>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

<!--Beginning of the form  -->     
    
    <form method="POST"  action= "/" enctype="multipart/form-data" id='athlete-input-form' onsubmit="ConfirmDelete()">
        <!--Select what data to download section -->
        <div class="header">
            <h5 style="margin-left: 35px; margin-top:30px"><span class="oi oi-cloud-download" ></span>  <b>Data Sources</b> - What data do you want to include in the download: </h5>
        </div>

        <div>
            <small class="form-text text-muted" style="margin-left: 35px; margin-bottom:15px; margin-top:5px; max-width: 800px" >Select the below sections and the coresponding checkboxes, depending on what data and from what source you would like to download.</small>
        </div>
        
        <div class="bs-example" style="margin-left: 35px">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a id="act_link" href="#act_well_tab" class="nav-link active" data-toggle="tab" onclick="EnableDisableElmnt(this)"><b>Activities</b></a>
                </li>
                <li class="nav-item">
                    <a id="well_link" href="#act_well_tab" class="nav-link" data-toggle="tab" onclick="EnableDisableElmnt(this)"><b>Wellness</b></a>
                </li>
                <li class="nav-item">
                    <a href="#nutrition_tab" class="nav-link" data-toggle="tab"><b>Nutrition</b></a>
                </li>
                <li class="nav-item">
                    <a href="#blood_glucose_tab" class="nav-link" data-toggle="tab"><b>Blood Glucose</b></a>
                </li>
                <li class="nav-item">
                    <a href="#eeg_tab" class="nav-link" data-toggle="tab"><b>EEG/Meditation</b></a>
                </li>
                <li class="nav-item">
                    <a href="#cstm_tab" class="nav-link" data-toggle="tab"><b>Custom Data</b></a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="act_well_tab">
                    <!--Garmin Connect Activities tab-->
                    <div id="act_well_activities" style="display: block;">
                        <div>
                            <small class="form-text text-muted" style="margin-left: 15px; margin-top:5px; max-width: 800px" >Enter the logon credentials for your Garmin Connect account. If you select to download Strava data, you will be prompted to authorize this app to access your Strava account upon submiting this form. 
                            </small>
                        </div>
                        <p><div class="header" style="color:#0275d8">
                            <b><span style="margin-right: 10px; margin-top:15px; margin-bottom: 5px;"></span>Activities <a href="https://connect.garmin.com/en-US/signin?service=https://connect.garmin.com/modern/" class="badge badge-pill badge-secondary">Garmin Connect</a>, <a href="https://www.strava.com/" class="badge badge-pill badge-secondary">Strava</a> : </b>
                        </div>
                        <!--Garmin Connect Activities Checkbox-->
                        <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 5px">
                            <input type="checkbox" class="form-check-input" id="GCCheckbox" name="GCCheckbox" value="GCCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="GCCheckbox">Check to login to Garmin Connect and download your activity data</label>
                        </div>
                        <!--Strava Checkbox-->
                        <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;" >
                            {% if strava_enabled == True %}
                            <input type="checkbox" class="form-check-input" id="stravaCheckbox" name="stravaCheckbox" value="stravaCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            {% else %}
                            <input type="checkbox" class="form-check-input" id="stravaCheckbox" name="stravaCheckbox" value="stravaCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)" disabled>
                            {% endif %}
                            <label class="form-check-label" for="stravaCheckbox">Check to connect to Strava API and download your activity data </label> 
                        </div></p>
                    </div>
                    <!--Garmin Connect Wellness tab-->
                    <div id="act_well_wellness" style="display: none;">
                        <div>
                            <small class="form-text text-muted" style="margin-left: 15px; margin-top:5px; max-width: 800px" >Enter the logon credentials for your Garmin Connect account. If you select to download Oura data, you will be prompted to authorize this app to access your Oura account upon submiting this form.
                            </small>
                        </div>
                        <p><div class="header" style="color:#0275d8">
                            <b><span style="margin-right: 10px; margin-top:15px; margin-bottom: 5px;"></span>Wellness <a href="https://connect.garmin.com/en-US/signin?service=https://connect.garmin.com/modern/" class="badge badge-pill badge-secondary">Garmin Connect</a>, <a href="https://www.ouraring.com/" class="badge badge-pill badge-secondary">Oura</a> : </b>
                        </div>
                        <!--Garmin Connect Wellness Checkbox-->
                        <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 5px;">
                            <input type="checkbox" class="form-check-input" id="wellnessCheckbox" name="wellnessCheckbox" value="wellnessCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="wellnessCheckbox">Check to login to Garmin Connect and download your welness data </label> 
                        </div>
                        <!--Oura Checkbox-->
                        <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;" >
                            {% if oura_enabled == True %}
                            <input type="checkbox" class="form-check-input" id="ouraCheckbox" name="ouraCheckbox" value="ouraCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            {% else %}
                            <input type="checkbox" class="form-check-input" id="ouraCheckbox" name="ouraCheckbox" value="ouraCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)" disabled>
                            {% endif %}
                            <label class="form-check-label" for="ouraCheckbox">Check to connect to Oura API and download your wellness data </label> 
                        </div></p>
                    </div>
                    <!--Garmin connect login-->
                    <div class="col" style="margin-top:10px; margin-left: 10px; margin-bottom: 10px; max-width: 380px">
                        <div class="border" id="gcLoginBorder">
                            <div style = "margin-top:10px; margin-left: 10px; margin-bottom: 10px; margin-right: 10px">
                                
                                <div class="form-group">
                                    <label for="gcUsernameInput"><b>Garmin Connect Username:</b></label>
                                    <input type="email" class="form-control" id="gcUsernameInput" name="gcUsernameInput" aria-describedby="emailHelp" placeholder="Enter Username" disabled>
                                    <small id="GCEmailHelp" class="form-text text-muted" >Your details will never be shared with anyone else.</small>
                                </div>

                                <div class="form-group">
                                    <label for="gcPasswordInput"><b>Garmin Connect Password:</b></label>
                                    <input type="password" class="form-control"  id="gcPasswordInput" name="gcPasswordInput" placeholder="Enter Password"  disabled>
                                </div>

                                <div>
                                    <input type="hidden" name="gcUN" id="gcUN">  
                                    <input type="hidden" name="gcPW" id="gcPW">   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--MYFitnessPalTab-->
                <div class="tab-pane fade" id="nutrition_tab">
                    <small class="form-text text-muted" style="margin-left: 15px; margin-top:5px; max-width: 800px" >Enter the logon credentials for your MyFitnessPal account..
                    </small>
                    <p><div class="header" style="color:#0275d8">
                        <b><span style="margin-right: 10px; margin-top:5px; margin-bottom: 5px;"></span>Nutrition <a href="https://www.myfitnesspal.com/" class="badge badge-pill badge-secondary">MyFitnessPal</a> : </b>
                    </div>
                    <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;">
                        <input type="checkbox" class="form-check-input" id="MFPCheckbox" name="MFPCheckbox" value="MFPCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                        <label class="form-check-label" for="MFPCheckbox">Check to login to MyFitnessPal and download your nutrition data</label>
                    </div></p>
                    <!--MyFitnessPal login-->
                    <div class="col" style="margin-top:10px; margin-left: 10px; margin-bottom: 10px; max-width: 380px">
                        <div class="border" id="mfpLoginBorder">
                            <div style = "margin-top:10px; margin-left: 10px; margin-bottom: 10px; margin-right: 10px">                  
                        
                                <div class="form-group">
                                    <label for="mfpUsernameInput"><b>MyFitnessPal Username:</b></label>
                                    <input type="email" class="form-control" id="mfpUsernameInput" name="mfpUsernameInput" aria-describedby="emailHelp" placeholder="Enter Username" disabled>
                                    <small id="mfpEmailHelp" class="form-text text-muted" >Your details will never be shared with anyone else.</small>
                                </div>

                                <div class="form-group">
                                    <label for="mfpPasswordInput"><b>MyFitnessPal Password:</b></label>
                                    <input type="password" class="form-control"  id="mfpPasswordInput" name="mfpPasswordInput" placeholder="Enter Password"  disabled>
                                </div>

                                <div>
                                    <input type="hidden" name="mfpUN" id="mfpUN">  
                                    <input type="hidden" name="mfpPW" id="mfpPW">   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                
                <!--Blood Glucose Tab checkbox-->
                <div class="tab-pane fade" id="blood_glucose_tab">
                    <small class="form-text text-muted" style="margin-left: 15px; margin-top:5px; max-width: 800px" >Enter the logon credentials for your Diasend account. If you have selected the option to download Glimp or LibreView BG data, you will have to first share the "Glimp" or "LibreView" archive folder located in your Dropbox and paste the generated link to the below section.
                    </small>
                    <p><div class="header" style="color:#0275d8">
                        <b><span style="margin-right: 10px; margin-top:5px; margin-bottom: 5px;"></span>Blood Glucose <a href="https://diasend.com//en/" class="badge badge-pill badge-secondary">Diasend</a>, <a href="https://www.deebee.it/?p=1411" class="badge badge-pill badge-secondary">Glimp</a>, <a href="https://www.libreview.com/" class="badge badge-pill badge-secondary">LIbreView</a> : </b>
                    </div>
                    <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 5px;">
                        {% if diasend_enabled == True %}
                            <input type="checkbox" class="form-check-input" id="diasendCheckbox" name="diasendCheckbox" value="diasendCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                        {% else %}
                            <input type="checkbox" class="form-check-input" id="diasendCheckbox" name="diasendCheckbox" value="diasendCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)" disabled>
                        {% endif %}    
                        <label class="form-check-label" for="diasendCheckbox">Check to login to Diasend and download your blood glucose data</label>
                    </div>
                    <!--Glimp checkbox-->
                    <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;">
                        <input type="checkbox" class="form-check-input" id="glimpCheckbox" name="glimpCheckbox" value="glimpCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                        <label class="form-check-label" for="glimpCheckbox">Check to download your blood glucose data that Glimp android app exports/archives to Dropbox, or if you have manualy downloaded your BG data from LibreView and stored it in Dropbox (Doesn't require login). </label>
                    </div></p>    
                    <!--Diasend login-->
                    <div class="col" style="margin-top:10px; margin-left: 10px; margin-bottom: 10px; max-width: 380px"> 
                        <div class="border" id="diasendLoginBorder">
                            <div style = "margin-top:10px; margin-left: 10px; margin-bottom: 10px; margin-right: 10px">                    
                        
                                <div class="form-group">
                                    <label for="diasendUsernameInput"><b>Diasend Username:</b></label>
                                    <input type="email" class="form-control" id="diasendUsernameInput" name="diasendUsernameInput" aria-describedby="emailHelp" placeholder="Enter Username" disabled>
                                    <small id="diasendEmailHelp" class="form-text text-muted" >Your details will never be shared with anyone else.</small>
                                </div>

                                <div class="form-group">
                                    <label for="diasendPasswordInput"><b>Diasend Password:</b></label>
                                    <input type="password" class="form-control"  id="diasendPasswordInput" name="diasendPasswordInput" placeholder="Enter Password"  disabled>
                                </div>

                                <div>
                                    <input type="hidden" name="diasendUN" id="diasendUN">  
                                    <input type="hidden" name="diasendPW" id="diasendPW">   
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Link to Glimp export file-->
                    <div class="container" style="margin-left: 20px">
                        <div class="row justify-content-start">
                            <span class="border" id="glimpLoginBorder" style="margin-left: 5px; margin-bottom: 10px">
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;">
                                    <label for="GlimpExportLink"><b>Link to the Dropbox folder containing Glimp and/or LibreView export files (You will need to share this folder and generate the link first):</b></label>   
                                    <textarea id="GlimpExportLink" name="GlimpExportLink" class="form-control" rows="1" title="Before you can use this option you will first need to enable Dropbox integration in your Glimp android app and then share the generated Glimp export folder. Go to your droppox Apps folder and locate Glimp. Right click on the Glimp folder, select the 'Share' option and copy the download link. Paste the copied link into the text input box. For LibreView you will need to login to your LibreView account and manualy download your data (csv) and store it the Dropbox folder of your choice and than share the folder as per the above and provide the generated link to it." placeholder="Paste the link to a folder containing Glimp or LibreView export files here..." disabled></textarea>        
                                </div>
                            </span>
                        </div> 
                    </div>
                </div>

                <!--MM EEG checkbox-->
                <div class="tab-pane fade" id="eeg_tab">
                    <small class="form-text text-muted" style="margin-left: 15px; margin-top:5px; max-width: 800px" > If you have selected the option to download Mind Monitor EEG data colected from muse device, you will have to first share the Mind Monitor archive folder located in your Dropbox and paste the generated link to the below section.
                    </small>
                    <p><div class="header" style="color:#0275d8">
                        <b><span style="margin-right: 10px; margin-top:5px; margin-bottom: 5px;"></span>EEG/Meditation <a href="https://mind-monitor.com/" class="badge badge-pill badge-secondary">Mind Monitor/Muse</a> : </b>
                    </div>
                    <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;">
                        <input type="checkbox" class="form-check-input" id="mmCheckbox" name="mmCheckbox" value="mmCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                        <label class="form-check-label" for="mmCheckbox">Check to download your EEG data that Mind Monitor ios/android app exports/archives to Dropbox (Doesn't require login) </label>
                    </div></p>
                    <!--Link to a folder containing Mind Monitor export files-->
                    <div class="container" style="margin-left: 20px">
                        <div class="row justify-content-start">
                            <span class="border" id="mmLoginBorder" style="margin-left: 5px; margin-bottom: 10px">
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;">
                                    <label for="mmExportLink"><b>Link to the Dropbox folder containing Mind Monitor export files (You will need to share this folder and generate the link first):</b></label>   
                                    <textarea id="mmExportLink" name="mmExportLink" class="form-control" rows="1" title="Before you can use this option you will first need to save the Mind Monitor recordings into a dropbox folder of your choice and then share it. Right click on the folder where you decided to store the Mind Monitor recordings, select the 'Share' option and copy the download link. Paste the copied link into the text input box" placeholder="Paste the link to a folder containing Mind Monitor export files here..." disabled></textarea>        
                                </div>
                            </span>
                        </div> 
                    </div>
                </div>
                
                <!--Custom Data from CSV checkbox-->
                <div class="tab-pane fade" id="cstm_tab">
                    <small class="form-text text-muted" style="margin-left: 15px; margin-top:5px; max-width: 800px" > In this section you will be able to select a <b>"csv"</b> file or a group of files that have been stored on Dropbox, shared, and accessible via link. The "csv" file/files will be parsed, formated and the data will be inserted into a custom table created on the fly. If a folder that contains a group of csv files is selected, the csv files need to be from the same origin, and in the same format (matching columns,time formats,delimiters etc.)
                    </small>
                    <p><div class="header" style="color:#0275d8">
                        <b><span style="margin-right: 10px; margin-top:5px; margin-bottom: 5px;"></span>Custom Data <a href="https://dropbox.com/" class="badge badge-pill badge-secondary">Dropbox</a> : </b>
                    </div>
                    <div class="form-group form-check" style="margin-left: 30px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;">
                        <input type="checkbox" class="form-check-input" id="cstmCheckbox" name="cstmCheckbox" value="cstmCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                        <label class="form-check-label" for="cstmCheckbox">Check to download data from a custom "csv" (Doesn't require Dropbox login) </label>
                    </div></p>
                    <!--User params entry (dbx link to csv,table name,date format,time standard,datetime column,unique columns)-->
                    <div class="container" style="margin-left: 20px">
                        <div class="row justify-content-start">
                            <span class="border" id="cstmLoginBorder" style="margin-left: 5px; margin-bottom: 10px">
                                <!--Link to a folder containing custom csv files-->
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;">
                                    <label for="cstmExportLink"><b>Link to the Dropbox file/folder containing your "csv" files (You will need to share it and generate the link first):</b></label>   
                                    <textarea id="cstmExportLink" name="cstmExportLink" class="form-control" rows="1" title="Before you can use this option you will first need to save your csv files to Dropbox and then share it. Right click on the file/folder that you want to make available to this tool, select the 'Share' option and copy the download link. Paste the copied link into the text input box" placeholder="Paste the link to the Dropbox file/folder here..." disabled></textarea>        
                                </div>
                                <!--Table name text input-->
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;max-width: 400px">
                                    <label for="cstmTabName"><b>Table Name:</b></label>   
                                    <textarea id="cstmTabName" name="cstmTabName" class="form-control" rows="1" title="Please do not use any special characters or spaces in the table name. The table name that you enter will be checked and if needed formated to comply with PosgreSQL guidelines (all special characters removed or replacaded), prepended with cstm_ (eg.Sample Table -> cstm_sample_table) and used to create a new db table to store the data from your CSV" placeholder="Enter the table name here..." disabled></textarea>        
                                </div>
                                <!--Select DateTime column-->
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;max-width: 300px">
                                    <label for="cstmDTColumn"><b>DateTime Column:</b></label>
                                    <select class="form-control form-control" id="cstmDTColumn" name="cstmDTColumn" title="Please select the column in your csv file that the timestamp records are stored in. If there are no DateTime data stored in the csv, select None." disabled>
                                        <option value="None" selected title="Select None if the dataset does not contain any DateTime data.">None</option>
                                        <option value="0">Column 1</option>
                                        <option value="1">Column 2</option>
                                        <option value="2">Column 3</option>
                                        <option value="3">Column 4</option>
                                        <option value="4">Column 5</option>
                                        <option value="5">Column 6</option>
                                        <option value="6">Column 7</option>
                                        <option value="7">Column 8</option>
                                        <option value="8">Column 9</option>
                                        <option value="9">Column 10</option>
                                    </select>
                                </div>
                                <!--Select DateTime zone-->
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;max-width: 300px">
                                    <label for="cstmTimeZone"><b>Timezone:</b></label>
                                    <select class="form-control form-control" id="cstmTimeZone" name="cstmTimeZone" title = "Please select the timezone that your timestamp records have been recorded in." disabled>   
                                        <option value="Etc/GMT+12">(GMT-12:00) International Date Line West</option>
                                        <option value="Pacific/Midway">(GMT-11:00) Midway Island, Samoa</option>
                                        <option value="Pacific/Honolulu">(GMT-10:00) Hawaii</option>
                                        <option value="US/Alaska">(GMT-09:00) Alaska</option>
                                        <option value="America/Los_Angeles">(GMT-08:00) Pacific Time (US & Canada)</option>
                                        <option value="America/Tijuana">(GMT-08:00) Tijuana, Baja California</option>
                                        <option value="US/Arizona">(GMT-07:00) Arizona</option>
                                        <option value="America/Chihuahua">(GMT-07:00) Chihuahua, La Paz, Mazatlan</option>
                                        <option value="US/Mountain">(GMT-07:00) Mountain Time (US & Canada)</option>
                                        <option value="America/Managua">(GMT-06:00) Central America</option>
                                        <option value="US/Central">(GMT-06:00) Central Time (US & Canada)</option>
                                        <option value="America/Mexico_City">(GMT-06:00) Guadalajara, Mexico City, Monterrey</option>
                                        <option value="Canada/Saskatchewan">(GMT-06:00) Saskatchewan</option>
                                        <option value="America/Bogota">(GMT-05:00) Bogota, Lima, Quito, Rio Branco</option>
                                        <option value="US/Eastern">(GMT-05:00) Eastern Time (US & Canada)</option>
                                        <option value="US/East-Indiana">(GMT-05:00) Indiana (East)</option>
                                        <option value="Canada/Atlantic">(GMT-04:00) Atlantic Time (Canada)</option>
                                        <option value="America/Caracas">(GMT-04:00) Caracas, La Paz</option>
                                        <option value="America/Manaus">(GMT-04:00) Manaus</option>
                                        <option value="America/Santiago">(GMT-04:00) Santiago</option>
                                        <option value="Canada/Newfoundland">(GMT-03:30) Newfoundland</option>
                                        <option value="America/Sao_Paulo">(GMT-03:00) Brasilia</option>
                                        <option value="America/Argentina/Buenos_Aires">(GMT-03:00) Buenos Aires, Georgetown</option>
                                        <option value="America/Godthab">(GMT-03:00) Greenland</option>
                                        <option value="America/Montevideo">(GMT-03:00) Montevideo</option>
                                        <option value="America/Noronha">(GMT-02:00) Mid-Atlantic</option>
                                        <option value="Atlantic/Cape_Verde">(GMT-01:00) Cape Verde Is.</option>
                                        <option value="Atlantic/Azores">(GMT-01:00) Azores</option>
                                        <option value="Africa/Casablanca">(GMT+00:00) Casablanca, Monrovia, Reykjavik</option>
                                        <option value="Etc/Greenwich" selected="selected">(GMT+00:00) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London</option>
                                        <option value="Europe/Amsterdam">(GMT+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna</option>
                                        <option value="Europe/Belgrade">(GMT+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague</option>
                                        <option value="Europe/Brussels">(GMT+01:00) Brussels, Copenhagen, Madrid, Paris</option>
                                        <option value="Europe/Sarajevo">(GMT+01:00) Sarajevo, Skopje, Warsaw, Zagreb</option>
                                        <option value="Africa/Lagos">(GMT+01:00) West Central Africa</option>
                                        <option value="Asia/Amman">(GMT+02:00) Amman</option>
                                        <option value="Europe/Athens">(GMT+02:00) Athens, Bucharest, Istanbul</option>
                                        <option value="Asia/Beirut">(GMT+02:00) Beirut</option>
                                        <option value="Africa/Cairo">(GMT+02:00) Cairo</option>
                                        <option value="Africa/Harare">(GMT+02:00) Harare, Pretoria</option>
                                        <option value="Europe/Helsinki">(GMT+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius</option>
                                        <option value="Asia/Jerusalem">(GMT+02:00) Jerusalem</option>
                                        <option value="Europe/Minsk">(GMT+02:00) Minsk</option>
                                        <option value="Africa/Windhoek">(GMT+02:00) Windhoek</option>
                                        <option value="Asia/Kuwait">(GMT+03:00) Kuwait, Riyadh, Baghdad</option>
                                        <option value="Europe/Moscow">(GMT+03:00) Moscow, St. Petersburg, Volgograd</option>
                                        <option value="Africa/Nairobi">(GMT+03:00) Nairobi</option>
                                        <option value="Asia/Tbilisi">(GMT+03:00) Tbilisi</option>
                                        <option value="Asia/Tehran">(GMT+03:30) Tehran</option>
                                        <option value="Asia/Muscat">(GMT+04:00) Abu Dhabi, Muscat</option>
                                        <option value="Asia/Baku">(GMT+04:00) Baku</option>
                                        <option value="Asia/Yerevan">(GMT+04:00) Yerevan</option>
                                        <option value="Asia/Kabul">(GMT+04:30) Kabul</option>
                                        <option value="Asia/Yekaterinburg">(GMT+05:00) Yekaterinburg</option>
                                        <option value="Asia/Karachi">(GMT+05:00) Islamabad, Karachi, Tashkent</option>
                                        <option value="Asia/Calcutta">(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi</option>
                                        <option value="Asia/Calcutta">(GMT+05:30) Sri Jayawardenapura</option>
                                        <option value="Asia/Katmandu">(GMT+05:45) Kathmandu</option>
                                        <option value="Asia/Almaty">(GMT+06:00) Almaty, Novosibirsk</option>
                                        <option value="Asia/Dhaka">(GMT+06:00) Astana, Dhaka</option>
                                        <option value="Asia/Rangoon">(GMT+06:30) Yangon (Rangoon)</option>
                                        <option value="Asia/Bangkok">(GMT+07:00) Bangkok, Hanoi, Jakarta</option>
                                        <option value="Asia/Krasnoyarsk">(GMT+07:00) Krasnoyarsk</option>
                                        <option value="Asia/Hong_Kong">(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi</option>
                                        <option value="Asia/Kuala_Lumpur">(GMT+08:00) Kuala Lumpur, Singapore</option>
                                        <option value="Asia/Irkutsk">(GMT+08:00) Irkutsk, Ulaan Bataar</option>
                                        <option value="Australia/Perth">(GMT+08:00) Perth</option>
                                        <option value="Asia/Taipei">(GMT+08:00) Taipei</option>
                                        <option value="Asia/Tokyo">(GMT+09:00) Osaka, Sapporo, Tokyo</option>
                                        <option value="Asia/Seoul">(GMT+09:00) Seoul</option>
                                        <option value="Asia/Yakutsk">(GMT+09:00) Yakutsk</option>
                                        <option value="Australia/Adelaide">(GMT+09:30) Adelaide</option>
                                        <option value="Australia/Darwin">(GMT+09:30) Darwin</option>
                                        <option value="Australia/Brisbane">(GMT+10:00) Brisbane</option>
                                        <option value="Australia/Canberra">(GMT+10:00) Canberra, Melbourne, Sydney</option>
                                        <option value="Australia/Hobart">(GMT+10:00) Hobart</option>
                                        <option value="Pacific/Guam">(GMT+10:00) Guam, Port Moresby</option>
                                        <option value="Asia/Vladivostok">(GMT+10:00) Vladivostok</option>
                                        <option value="Asia/Magadan">(GMT+11:00) Magadan, Solomon Is., New Caledonia</option>
                                        <option value="Pacific/Auckland">(GMT+12:00) Auckland, Wellington</option>
                                        <option value="Pacific/Fiji">(GMT+12:00) Fiji, Kamchatka, Marshall Is.</option>
                                        <option value="Pacific/Tongatapu">(GMT+13:00) Nuku'alofa</option>
                                    </select>
                                </div>
                                <!--Select date format-->
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;max-width: 300px">
                                    <label for="cstmDateFormat"><b>Date Format:</b></label>
                                    <select class="form-control form-control" id="cstmDateFormat" name="cstmDateFormat" title="Please pick the date format that matches the timestamp records in your csv. Generaly there are two main date formats. US and EU(rest of the world) format. In US format the month is written first, then day then year (2/15/2020). EU format starts with day, followed by the month and the year (15/2/2020)." disabled>
                                        <option value="eu">EU (default)</option>
                                        <option value="us">US</option>
                                    </select>
                                </div>
                                <!--Unique Columns-->
                                <div class="form-group" style="margin-left: 10px;margin-right: 10px; margin-top:10px;margin-bottom: 10px;max-width: 300px">
                                    <label for="cstmUniqueColumns"><b>Unique Columns:</b></label>
                                    <select class="form-control form-control" id="cstmUniqueColumns" name="cstmUniqueColumns" title="Please select a column or a group of columns to include in the UNIQUE constraint. This is to to ensure that values stored in a column or a group of columns are unique across the whole table such as timestamps, and prevent multiple inserts of the already inserted data.(Hold CTRL key to select multiple values)." multiple="multiple" disabled>
                                        <option value="0">Column 1 (Select one or multiple)</option>
                                        <option value="1">Column 2</option>
                                        <option value="2">Column 3</option>
                                        <option value="3">Column 4</option>
                                        <option value="4">Column 5</option>
                                        <option value="5">Column 6</option>
                                        <option value="6">Column 7</option>
                                        <option value="7">Column 8</option>
                                        <option value="8">Column 9</option>
                                        <option value="9">Column 10</option>
                                    </select>
                                </div>
                            </span>
                        </div> 
                    </div>
                </div>

            </div>
        </div> 

    <hr>       
        
        <!--Date Range Section-->

        <div class="header">
            <h5 style="margin-left: 35px; margin-top:2px"><span class="oi oi-calendar" ></span>  <b>DateRange</b> - Define custom time period for the data download: </h5>
        </div>
        
        <div>
            <small class="form-text text-muted" style="margin-left: 35px; margin-top:5px; max-width: 800px" > Enter the start and optionaly the end date for the daterange that you want to download and insert to DB.</small>
        </div>
        
        <div class="container" style="margin-left: 35px; margin-top:5px">
            <div class="row justify-content-start">
                <span class="border" style="margin-left: 15px; margin-top:5px; margin-bottom: 15px">
                    <div class="form-row">
                        <div class="col" style="margin-left: 15px;margin-right: 15px; margin-top:2px;margin-bottom: 5px;">       
                            <label for="startDate"><b>Start date:</b></label>
                            <input type="text" class="form-control calendar"  id="startDate" name="startDate" aria-describedby="startDateHelp" placeholder="YYYY-MM-DD" autocomplete="off" onchange="saveValue(this)" required>
                            <small id="startDateHelp" class="form-text text-muted" >*Please pick a start date (required) .</small>
                        </div>
                        <div class="col" style="margin-left: 15px;margin-right: 15px; margin-top:2px;margin-bottom: 5px;">
                            <label for="endDate"><b>End date:</b></label>
                            <input type="text" class="form-control calendar" id="endDate" name="endDate" aria-describedby="endDateHelp" placeholder="YYYY-MM-DD" autocomplete="off" onchange="saveValue(this)">
                            <small id="endDateHelp" class="form-text text-muted" >Please pick an end date (optional).</small>
                        </div>
                    </div>
                </span>
            </div>   
        </div>
        
        <hr>

        <!--Data Destination-->
                   
        <div class="header">
            <h5 style="margin-left: 35px; margin-top:2px"><span class="oi oi-signpost" ></span>  <b>Data Destination</b> - Where do you want to store the downloaded data: </h5>
        </div>
        
        <div>
            <small class="form-text text-muted" style="margin-left: 35px; margin-top:5px; max-width: 800px" >
             By default your data will be inserted to a DB hosted on this server. If you wish to insert the data to a DB hosted on your own DB server, 
             please specify the hostname and the user credentials below (You will need to have a PostgreSQL installed, configured and accessible from the intenet on the default port). 
             Please choose carefully as you will not be able to change this option after the first download.
            </small>
        </div>
        
        <div class="container" style="margin-left: 35px; margin-top:5px">
            <div class="row justify-content-start">                                      
                <span class="border" style="margin-left: 15px; margin-top:15px; margin-bottom: 15px">
                    <div class="col-md-12">                             
                        <label><b>Please choose the destination DB server:</b></label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="dbSvr" id="localhostDbSvr" value="localhostDbSvr" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="localhostDbSvr">This DB server (I will host your database for you)</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="dbSvr" id="remoteDbSvr" value="remoteDbSvr" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="remoteDbSvr">Your own DB server (You will need to have a PostgreSQL installed, configured and accessible from the intenet)</label>
                        </div>
                        <div class="form-row">
                            <div class="col" style="margin-left: 15px; margin-top:2px; margin-bottom: 5px; max-width: 310px">
                                <label class="form-check-label" for="dbHost"><i>DB Host:</i></label>
                                <input type="text" class="form-control" id="dbHost" name="dbHost"  placeholder="eg. 125.63.60.148" disabled> 
                            </div>
                            <div class="col" style="margin-top:2px; margin-bottom: 5px;max-width: 80px">
                                <label class="form-check-label" for="dbPort"><i>Port:</i></label>
                                <input type="text" class="form-control" id="dbPort" name="dbPort"  placeholder="5432" title="Currently the port has to be 5432. Future updates will include an ability to change the default port." disabled> 
                            </div> 
                        </div>
                        <div class="form-group" style="margin-left: 15px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;max-width: 300px">
                            <label class="form-check-label" for="dbUser"><i>DB User:</i></label>
                            <input type="text" class="form-control" id="dbUser" name="dbUser"  placeholder="eg. postgres" disabled>
                        </div>
                        <div class="form-group" style="margin-left: 15px;margin-right: 10px; margin-top:5px; margin-bottom: 15px;max-width: 300px">
                            <label class="form-check-label" for="dbPass"><i>DB Password:</i></label>
                            <input type="text" class="form-control" id="dbPass" name="dbPass"  placeholder="eg. password" disabled>
                        </div>
                        <div>
                            <input type="hidden" name="dbHST" id="dbHST"> 
                            <input type="hidden" name="dbPRT" id="dbPRT"> 
                            <input type="hidden" name="dbUN" id="dbUN">
                            <input type="hidden" name="dbPW" id="dbPW">   
                        </div>
                        <p></p>
                    </div>
                </span>
            </div>
        </div>
        <hr>

        
        <!--Maintenance Section-Delete Files and DB data-->
        
        <div class="header">
            <h5 style="margin-left: 35px; margin-top:2px"><span class="oi oi-loop-square" ></span>  <b>Housekeeping</b> - Do you want to delete all existing files and/or DB data from the server before proceeding with this download (optional): </h5>
        </div>
        
        <div>
            <small class="form-text text-muted" style="margin-left: 35px; margin-top:5px; max-width: 800px" >This option will <b>delete</b> all existing Files and/or DB data before the download, parsing and DB insert 
            (This will not affect the data previously archived to Dropbox or Google Drive). 
            If left unchecked only the new data/files (currently not present in the DB) will be downloaded, parsed and inserted
            </small>
        </div>
        
        <div class="container" style="margin-left: 35px; margin-top:5px">
            <div class="row justify-content-start">
                <span class="border" style="margin-left: 15px; margin-top:5px; margin-bottom: 15px">
                    <div class="col-md-12"> 
                        <div class="form-group form-check" >
                            <input type="checkbox" class="form-check-input" id="dataDeleteCheckbox" name="dataDeleteCheckbox" value="dataDeleteCheckbox" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="dataDeleteCheckbox">Check if you want to delete all previously downloaded files and/or DB data before proceeding with download ! </label> 
                        </div>
                        <label><b>Please choose what data to delete:</b></label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="deleteData" id="deleteAllData" value="deleteAllData" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="deleteAllData">Delete all data</label>
                        </div>
                        
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="deleteData" id="deleteFiles" value="deleteFiles" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="deleteFiles">Delete files only</label>
                        </div>
                        
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="deleteData" id="deleteDBdata" value="deleteDBdata" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="deleteDBdata">Delete DB data only</label>
                        </div>
                        <p></p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="deleteData" id="deleteAlldataExit" value="deleteAlldataExit" onchange="EnableDisableElmnt(this)" onclick="saveChecked(this)">
                            <label class="form-check-label" for="deleteAlldataExit">Delete All data and <b>Exit</b> without re-downloading</label>
                        </div>
                        <p></p>             
                    </div>
                    
                </span>
            </div>   
        </div>
        
        <hr>
        
        <!--Archive to Dropbox-->
                   
        <div class="header">
            <h5 style="margin-left: 35px; margin-top:2px"><span class="oi oi-box" ></span>  <b>Archive</b> - Do you want to save copies of your activity files and/or copy of the DB to your Dropbox: </h5>
        </div>
        
        <div>
            <small class="form-text text-muted" style="margin-left: 35px; margin-top:5px; max-width: 800px" >
             The app will download the copies of your files and/or DB backup to your Dropbox account under/Apps/Athlete Data App folder. By choosing this option you confirm that you have an active Dropbox account.
             This app will only have acess to its own folder "/Apps/Athlete Data App folder" in your Dropbox file structure. All other files and folders will remain unacessible to it!
            </small>
        </div>
        
        <div class="container" style="margin-left: 35px; margin-top:5px">
            <div class="row justify-content-start">                                      
                <span class="border" style="margin-left: 15px; margin-top:15px; margin-bottom: 15px">
                    <div class="col-md-12">                             
                        <div class="form-group form-check">
                            {% if integrated_with_dropbox == 'true'%}
                                <input type="checkbox" class="form-check-input" id="archiveDataCheckbox" name="archiveDataCheckbox" onclick="saveChecked(this)">
                            {% else %}
                                <input type="checkbox" class="form-check-input" id="archiveDataCheckbox" name="archiveDataCheckbox" onclick="saveChecked(this)" disabled>
                            {% endif %}
                            <label class="form-check-label" for="archiveDataCheckbox">Check if you want to archive your files and/or DB backup to Dropbox</label>
                        </div>

                        <label><b>Please choose what data to Archive:</b></label>
                        <div class="form-check">
                            {% if integrated_with_dropbox == 'true'%}
                            <input class="form-check-input" type="radio" name="archiveData" id="archiveAllData" value="archiveAllData" onclick="saveChecked(this)">
                            {% else %}
                            <input class="form-check-input" type="radio" name="archiveData" id="archiveAllData" value="archiveAllData" onclick="saveChecked(this)" disabled>
                            {% endif %}
                            <label class="form-check-label" for="archiveAllData">Archive all data</label>
                        </div>
                        
                        <div class="form-check">
                            {% if integrated_with_dropbox == 'true'%}
                            <input class="form-check-input" type="radio" name="archiveData" id="archiveFiles" value="archiveFiles" onclick="saveChecked(this)">
                            {% else %}
                            <input class="form-check-input" type="radio" name="archiveData" id="archiveFiles" value="archiveFiles" onclick="saveChecked(this)" disabled>
                            {% endif %}
                            <label class="form-check-label" for="archiveFiles">Archive files only</label>
                        </div>
                        
                        <div class="form-check">
                            {% if integrated_with_dropbox == 'true'%}
                            <input class="form-check-input" type="radio" name="archiveData" id="archiveDBdata" value="archiveDBdata" onclick="saveChecked(this)">
                            {% else %}
                            <input class="form-check-input" type="radio" name="archiveData" id="archiveDBdata" value="archiveDBdata" onclick="saveChecked(this)" disabled>
                            {% endif %}
                            <label class="form-check-label" for="archiveDBdata">Archive DB data only</label>
                        </div>
                        <p></p>
                    </div>
                </span>
            </div>
        </div>
        <hr>

        <!--Enable/Disable Periodic Auto_Synch-->
        
        <div class="header">
            <h5 style="margin-left: 35px; margin-top:2px"><span class="oi oi-clock" ></span>  <b>Auto Synch</b> - Do you want to enable automatic data synchronisation: </h5>
        </div>
    
        <div>
            <small class="form-text text-muted" style="margin-left: 35px; margin-top:5px; max-width: 800px" >This option is <b>enabled</b> by default upon selecting a data source. Please uncheck before you proceed with the download if you do not wish to synchronise your data automaticaly. 
                If enabled, the server encrypts and stores your login credentials, data links and any API tokens for the selected datasources, and use them to periodicaly to log in and check whether there are any new data present.
                If there are, they will be downloaded and stored in the DB (This happens behind the scenes and does not require any user intervention).
                If you provided a permision to connect to your Dropbox, the downloaded data will be also synchronised with your dropbox.
            </small>
        </div>
    
        <div class="container" style="margin-left: 35px; margin-top:5px">
            <div class="row justify-content-start">
                <span class="border" style="margin-left: 15px; margin-top:5px; margin-bottom: 15px">
                    <div class="col-md-12"> 
                        <div class="form-group form-check" >
                            <input type="checkbox" class="form-check-input" id="AutoSynchCheckbox" name="AutoSynchCheckbox" value="AutoSynchCheckbox" onclick="saveChecked(this)">
                            <label class="form-check-label" for="AutoSynchCheckbox">Check if you want to enable Auto Synch. If <b>not checked</b> any previous Auto Synch preferences will be disabled and any existing passwords removed from the DB.</label> 
                        </div>                               
                    </div>
                
                </span>
            </div>   
        </div>

<hr>
        <!--Progress Msg Box section-->        

        <div class="form-group" style="margin-left: 35px;margin-right: 15px; margin-top:2px;margin-bottom: 5px;">
 
            <label for="MsgBox"><b>Status:</b></label>
             
            <textarea id="MsgBox" class="form-control" rows="2" placeholder="Once submited, you will see the progress of your task here..."></textarea> 
             
        </div>
        <div style="margin-left: 20px">
            {% if del_progress == 'Error deleting data'%} <span class="badge badge-danger"  id="housekeeping" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Housekeeping - Error deleting data</span>
                {% elif del_progress == 'All data deleted succesfully'%} <span class="badge badge-success"  id="housekeeping" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Housekeeping - All data deleted succesfully</span>
                {%else%}<span class="badge badge-secondary"  id="housekeeping" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Housekeeping - Will be skipped</span>
            {% endif %} 
            {% if mfp_progress == 'Error downloading MFP nutrition data'%} <span class="badge badge-danger"  id="mfpNutritionBadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">MFP Nutrition Data - Error downloading data</span>
                {% elif mfp_progress == 'MFP nutrition data downloaded successfully'%} <span class="badge badge-success"  id="mfpNutritionBadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">MFP Nutrition Data - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="mfpNutritionBadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">MFP Nutrition Data - Will be skipped</span>
            {% endif %}
            {% if diasend_progress == 'Error downloading Diasend GCM data'%} <span class="badge badge-danger"  id="diasendCGMbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Diasend CGM Data - Error downloading data</span>
                {% elif diasend_progress == 'Diasend CGM data downloaded successfully'%} <span class="badge badge-success"  id="diasendCGMbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Diasend CGM Data - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="diasendCGMbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Diasend CGM Data - Will be skipped</span>
            {% endif %}
            {% if glimp_progress == 'Error downloading Glimp CGM data'%} <span class="badge badge-danger"  id="glimpCGMbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Glimp/LibreView CGM Data - Error downloading data</span>
                {% elif glimp_progress == 'Glimp CGM data downloaded successfully'%} <span class="badge badge-success"  id="glimpCGMbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Glimp/LIbreView CGM Data - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="glimpCGMbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Glimp/LibreView CGM Data - Will be skipped</span>
            {% endif %}	
            {% if mm_progress == 'Error downloading Mind Monitor data'%} <span class="badge badge-danger"  id="mmEEGbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Mind Monitor Data - Error downloading data</span>
                {% elif mm_progress == 'Mind Monitor data downloaded successfully'%} <span class="badge badge-success"  id="mmEEGbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Mind Monitor Data - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="mmEEGbadge" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Mind Monitor Data - Will be skipped</span>
            {% endif %}															   
            {% if gc_fit_activ_progress == 'Error downloading GC FIT activities'%} <span class="badge badge-danger"  id="gcActvtFit" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Activity Data (FIT) - Error downloading data</span>
                {% elif gc_fit_activ_progress == 'GC FIT activities downloaded successfully'%} <span class="badge badge-success"  id="gcActvtFit" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Activity Data (FIT) - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="gcActvtFit" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Activity Data (FIT) - Will be skipped</span>
            {% endif %}
            {% if oura_well_progress == 'Error downloading Oura wellness data'%} <span class="badge badge-danger"  id="ouraWell" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Oura Wellness Data - Error downloading data</span>
                {% elif oura_well_progress == 'Oura wellness data downloaded successfully'%} <span class="badge badge-success"  id="ouraWell" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Oura Wellness Data - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="ouraWell" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Oura Wellness Data - Will be skipped</span>
            {% endif %}
            {% if strava_activ_progress == 'Error downloading Strava activity data'%} <span class="badge badge-danger"  id="stravaActvt" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Strava Activity Data - Error downloading data</span>
                {% elif strava_activ_progress == 'Strava activity data downloaded successfully'%} <span class="badge badge-success"  id="stravaActvt" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Strava Activity Data - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="stravaActvt" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Strava Activity Data - Will be skipped</span>
            {% endif %}
            {% if gc_fit_well_progress == 'Error downloading GC FIT wellness data'%} <span class="badge badge-danger"  id="gcWellFit" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Wellness Data (FIT) - Error downloading data</span>
                {% elif gc_fit_well_progress == 'GC FIT wellness data downloaded successfully'%} <span class="badge badge-success"  id="gcWellFit" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Wellness Data (FIT) - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="gcWellFit" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Wellness Data (FIT) - Will be skipped</span>
            {% endif %}
            {% if gc_json_well_progress == 'Error downloading GC JSON wellness data'%} <span class="badge badge-danger"  id="gcWellJson" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Wellness Data (JSON) - Error downloading data</span>
                {% elif gc_json_well_progress == 'GC JSON wellness data downloaded successfully'%} <span class="badge badge-success"  id="gcWellJson" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Wellness Data (JSON) - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="gcWellJson"style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Wellness Data (JSON) - Will be skipped</span>
            {% endif %}
            {% if gc_json_dailysum_progress == 'Error downloading GC JSON daily summary'%} <span class="badge badge-danger"  id="gcDailySum" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Daily Summary (JSON) - Error downloading data</span>
                {% elif gc_json_dailysum_progress == 'GC JSON daily summary data downloaded successfully'%} <span class="badge badge-success"  id="gcDailySum" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Daily Summary (JSON) - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="gcDailySum" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">GC Daily Summary (JSON) - Will be skipped</span>
            {% endif %} 
            {% if cstm_progress == 'Error downloading custom data'%} <span class="badge badge-danger"  id="cstmCSV" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Custom Data from CSV - Error downloading data</span>
                {% elif cstm_progress == 'Custom data downloaded successfully'%} <span class="badge badge-success"  id="cstmCSV" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Custom Data from CSV - Downloaded successfully</span>
                {%else%}<span class="badge badge-secondary"  id="cstmCSV" style="margin-left: 15px;margin-right: 5px; margin-top:15px;margin-bottom: 5px;">Custom Data from CSV - Will be skipped</span>
            {% endif %}          
        </div>


        <hr>

        <!-- FAQ Modal -->
        <div class="modal fade" id="popupModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Welcome to Athlete Data Warehouse - Performance/Health Data Download Utility</h5>
                        <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button> -->
                    </div>
                    <div class="modal-body">
                        <p>If you ever wanted to copy and store all your health and fitness data in one place, than this tool can possibly help.
                        </p>
                        <p><b>What does it do ?</b>
                            <br>This utility allows user to download and consolidate health and fitness data from various sources/trackers. The downloaded data is formated, and stored in a set of coresponding tables in PostgreSQL database. If required, it can periodically poll the data sources and download any new data. It uses various methods to access the user data, ranging from vendor API, scraping, manual export etc. 
                        </p>
                        <p><b>What data from what sources ?</b>
                            <br><a href="https://connect.garmin.com/en-US/signin?service=https://connect.garmin.com/modern/" class="badge badge-pill badge-primary">Garmin Connect</a> - Activity/Exercise data in FIT and TCX formats.
                            <br><a href="https://connect.garmin.com/en-US/signin?service=https://connect.garmin.com/modern/" class="badge badge-pill badge-primary">Garmin Connect</a> - Wellness/Health data in FIT and XML formats.
                            <br><a href="https://www.strava.com/" class="badge badge-pill badge-primary">Strava</a> - Activity/Excersize data via API.
                            <br><a href="https://www.ouraring.com/" class="badge badge-pill badge-primary">Oura</a> - Historical Sleep, HRV data retrieved via API.
                            <br><a href="https://www.myfitnesspal.com/" class="badge badge-pill badge-primary">MyFitnessPal</a> - Daily nutrition data (Calories,Food items,Units,Macro nutrients).
                            <br><a href="https://diasend.com//en/" class="badge badge-pill badge-primary">Diasend</a> - Blood Glucose data from continuous blood glucose monitors in XLS format.
                            <br><a href="https://www.deebee.it/?p=1411" class="badge badge-pill badge-primary">Glimp</a> - Blood Glucose data collected via Glimp android app and stored in Dropbox.
                            <br><a href="https://www.libreview.com/" class="badge badge-pill badge-primary">LibreView</a> - Blood Glucose data manualy exported from LibreView website and stored in Dropbox.
                            <br><a href="https://mind-monitor.com/" class="badge badge-pill badge-primary">Mind Monitor</a> - EEG data from Muse devices collected via Mind Monitor ios/android app and stored on Dropbox.
                            <br><a href="https://www.meteostat.net/" class="badge badge-pill badge-primary">Meteostat</a> - Historical weather and climate data for your location retrieved via API.
                            <br><a href="https://www.dropbox.com/"class="badge badge-pill badge-primary">Custom Data</a> - Custom data from a csv file/files stored on Dropbox and shared.
                        </p>
                        <p><b>How is my data accessed and downloaded ?</b>
                            <br>The tool's front end runs on an Apache web-server using Flask and Python in the background (Can optionally be run using Flask inbuilt web server). The process starts with user selecting the data sources and the types of data that he would like to download. He will then provide login credentials if the selected source requires login. Next, the user chooses from available options like destination DB server, date ranges, archiving of the original files, clearing of previously downloaded data, enabling periodic autosynch etc. The user will be required to specify the date ranges (or at least the start date) before the download can proceed. If the option to download Glimp, LibreView BG data is selected, the user will have to first share the Glimp or LibreView archive folder located in his Dropbox and input the generated link to the Glimp/LibreView download section. Similar procedure applies if user wants to download Mind Monitor EEG or custom data. Finally user would submit the completed request to the download service and wait for the download to complete. The download service is a combination of web-scraper using the supplied credentials to log in to the user's accounts(Garmin,MFP,Diasend) and an API client(Oura, Strava). Once logged in, it browses to download pages and iterates through available downloads, or accesses the user data via vendor's API. Finally it downloads the retrieved data to the server in the FIT,XML,JSON or CSV formats for furthre processing.
                        </p>
                        <p><b>Where and How is my data stored ?</b>
                            <br>The user data files are first downloaded and stored to the webserver's file system as flat files as described above. After each of the files is successfully downloaded and saved, the service parses and cleans the content which then gets formated and inserted in to the PostgreSQL database hosted either on this server or on the user's own DB server (the user will need to provide hostname/IP address, username, password). If user chooses to store his data on this DB server he will have his own database that he has got full and unrestricted access to. Once the user submits the download request providing valid credentials he will be able to retrieve the database access details via <i>"View DB info..."</i> link on the download page. 
                            The Datamodel diagram outlining the DB layout/data structure can be viewed via visiting <i>"View DB Model..."</i> link on the download page. Upon successful DB insert the original export files are removed from the file system.
                        </p>
                        <p><b>What can I do with the data once downloaded to DB ?</b>
                            <br>That is entirely up to you ;-) This service uses Pg_Web as data exploration and manipulation tool and Apache Superset for data visualizations. As mentioned previously each user has his own database that is not shared with other users and has a full access to it from anywhere on the Internet by default (might vary if used privately). The database, once created and populated with data, combining records from different sources would predominantly be used as a datasource for data analysis, data visualizations, machine learning or for data archiving purposes. The user can use the included Pg_Web or Apache Superset or any free or paid third party tools like PowerBI, Tableau, Dash, Plotly etc.to explore, manipulate or visualize the data. The DB can also be used as a datasource for ML models or just as a data archive.
                        </p>
                        <p><b>How do I archive the downloaded data off the db/webserver ?</b>
                            <br>The service provides an option for users to archive all downloaded FIT,XML,CSV files to their Dropbox (Google drive option might be coming in the future).In addition to archiving files, users can also archive compressed full backups of their databases that are created using pg_dump tool (This option is only available for DBs hosted on this server). Upon choosing to archive, user will be presented with a Dropbox consent/authorization form. 
                            Once the access to user's dropbox has been granted by the user, the service will create a folder called "Athlete Data App" in the "Apps" folder within the users dropbox root directory. This service will only have access to its own folder "/Apps/Athlete Data App" in your Dropbox file structure. All other files and folders will remain unaccessible to it!
                        </p>
                        <p><b>How do I revoke access and delete all downloaded data ?</b>
                            <br>This service provides an ability for each user to revoke all access to his GarminConnect, Strava, MFP, Diasend and Oura accounts from this service and/or delete all already downloaded data. This option can be accessed from the download page by simply providing a valid logon credentials and choosing the "Delete All data and Exit without re-downloading" option from the "Housekeeping" section. Upon submitting the request, all user data including any encrypted usernames and passwords stored in the DB will be deleted, and autosynch if previously enabled will be canceled. This will not affect the data archived to users's Dropbox and if desired the user will need to delete those manually. If the user only want to use this service as a "once off" perhaps for data archiving purposes, he can download all his data with "archive all data to Dropbox" option enabled and then delete all data from the db/web-server.
                        </p>
                        <p><b>What if I change my Garmin Connect,MFP or Diasend password and have autosynch enabled ?</b>
                            <br>After changing the GarminConnect, MFP or Diasend password user will simply need to provide the new password in the login section of the app and submit the download. The stored autosynch credentials for the affected service will be updated automaticaly.
                        </p>
                        <p><b>How secure are my credentials and my data ?</b>
                            <br>This tool requires your login credentials for GarminConnect,MFP and Diasend, to be able to access and download your data generated by these services. These credentials are not stored anywhere on the system or DB if the download/sync is manual or once-off and you do not require autosynch.
                            In case that the autosynch option is selected, the user credentials for the above services are encrypted using AES-256 encryption and stored in the db for this tool to be able to log in automatically, and retrieve data without user's input on periodic bases. If user decides to revoke access to his accounts as explained above, all stored credentials are removed from the database and autosynch is disabled. Each user has his own password protected database not shared with other users. The downloaded data are stored in db tables in clear text.
                        </p>
                        <p>This tool is a one man's hobby project to cater for his own needs and you are welcome to use it. I have taken every precaution known to me to secure your data and protect your privacy... but I don't know , what I don't know... and can not guarantee that I have not missed something.    
                        </p>
                        <p><b><i>By making use of any functionality or information on this website, you agree to the following:</b>
                            <br><u>NO WARRANTIES:</u> All of the functionality of this web app is provided "AS-IS" and with NO WARRANTIES. No express or implied warranties of any type, including for example implied warranties of merchantability or fitness for a particular purpose, are made with respect to the functionality, or any use of the functionality or information, on this site. I make no representations and extend no warranties of any type as to the accuracy or completeness of any information or content resulting from the use of or provided by this tool.
                            <br><u>DISCLAIMER OF LIABILITY:</u> I specifically DISCLAIM LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES and assume no responsibility or liability for any loss or damage suffered by any person as a result of the use or misuse of any of the functionality or information or content on this website. I assume or undertake NO LIABILITY for any loss or damage suffered as a result of the use, misuse or reliance on web app.
                            <br><u>USE AT YOUR OWN RISK:</u> This web app is experimental and for informational purposes only. It is your responsibility to evaluate your own medical and physical condition, or that of your clients, and to independently determine whether to use or adapt any of the information or content provided or generated by this service.
                        </i></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="modalButton" class="btn btn-secondary" data-dismiss="modal" >Proceed</button>
                    </div>
                </div>
            </div>
        </div>
        
<!-- Submit Main Form -->

        <button id="btnSubmit" type="submit" class="btn btn-primary" style="margin-left: 35px; margin-top:15px; margin-bottom:15px" disabled ><span class="oi oi-data-transfer-download" aria-hidden="true" ></span> Download & Insert</button>																																																										  
        
        <div>
            <a href="mailto:{{ admin_email }}" title="Contact Me" style="position:relative;float:right;margin-right:15px;margin-bottom:15px"><span class="oi oi-envelope-closed"></span> Contact me</a>
            <a href="https://github.com/pgalko/athlete_data_warehouse" title="GitHub" style="position:relative;float:right;margin-right:15px;margin-bottom:15px"><span class="oi oi-code"></span> GitHub </a>
            <a id="faq" href="#popupModal" style="position:relative;float:right;margin-right:15px;margin-bottom:15px" onclick="showModal()"><span class="oi oi-question-mark"></span> FAQ</a>
        </div>
    </form>
</html>